<Window x:Name="ZPreferencesDialog" x:Class="HHSAdvWin.ZPreferences"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:HHSAdvWin"
        xmlns:zp="clr-class:HHSAdvWin.ZProperties.Attributes"
        mc:Ignorable="d"
        Title="設定" SizeToContent="WidthAndHeight" ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="False"
        Background="{DynamicResource BackgroundBrush}" Foreground="{DynamicResource ForegroundBrush}">
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="32"
                      CornerRadius="0"
                      GlassFrameThickness="0"
                      UseAeroCaptionButtons="False"/>
    </WindowChrome.WindowChrome>
    <Grid>
        <!-- タイトルバー -->
        <Border Background="{DynamicResource TitleBarBackgroundBrush}"
                Height="32"
                VerticalAlignment="Top">
            <DockPanel>
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                    <Button Content="—" Width="40" Click="Minimize_Click" WindowChrome.IsHitTestVisibleInChrome="True"/>
                    <Button Content="□" Width="40" Click="Maximize_Click" WindowChrome.IsHitTestVisibleInChrome="True"/>
                    <Button Content="×" Width="40" Click="Close_Click" WindowChrome.IsHitTestVisibleInChrome="True"/>
                </StackPanel>
                <TextBlock Text="設定"
                           Foreground="{DynamicResource TitleBarForegroundBrush}"
                           VerticalAlignment="Center"
                           Margin="8,0"/>
            </DockPanel>
        </Border>

        <!-- コンテンツ -->
        <Grid Margin="0,32,0,0" Background="{DynamicResource BackgroundBrush}">
            <!-- ダイアログ本体 -->
            <StackPanel>
                <CheckBox x:Name="playOpening" Content="オープニングを再生します" Margin="8,8,8,8" IsChecked="{Binding OpeningRoll}"/>
                <CheckBox x:Name="playSounds" Content="音を鳴らします" Margin="8,8,8,8" IsChecked="{Binding PlaySound}"/>

                <!-- ▼ 追加: テーマ選択（ラジオボタン） -->
                <GroupBox Header="テーマ" Margin="8">
                    <StackPanel Orientation="Horizontal">
                        <RadioButton Content="ライト"
                             GroupName="ThemeMode"
                             Tag="{x:Static local:ThemeType.Light}"
                             IsChecked="{Binding ThemeMode,Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static local:ThemeType.Light }}" Checked="ThemeMode_Checked"/>
                        <RadioButton Content="ダーク"
                             GroupName="ThemeMode"
                             Tag="{x:Static local:ThemeType.Dark}"
                             IsChecked="{Binding ThemeMode,Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static local:ThemeType.Dark }}" Checked="ThemeMode_Checked"/>
                        <RadioButton Content="システム"
                             GroupName="ThemeMode"
                             Tag="{x:Static local:ThemeType.System}"
                             IsChecked="{Binding ThemeMode,Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static local:ThemeType.System }}" Checked="ThemeMode_Checked"/>
                    </StackPanel>
                </GroupBox>


                <StackPanel Orientation="Horizontal">
                    <Button x:Name="btnOkay" Content="設定" Margin="5,5,5,5" Width="80" IsDefault="True" Click="Okay_Click"/>
                    <Button x:Name="btnCancel" Content="取消" Margin="5,5,5,5" Width="80" IsCancel="True" IsDefault="True"/>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
